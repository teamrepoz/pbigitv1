{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Orders+ (Sample - Superstore)",
      "name": "Profit Margin %",
      "dax_expression": "'Orders+ (Sample - Superstore)'[Profit Ratio ] * 100",
      "solution_explanation": "Converted the row-level calculation [Profit Ratio ]*100 to a calculated column on Orders+ (Sample - Superstore)."
    },
    {
      "type": "calculated_column",
      "table": "Orders+ (Sample - Superstore)",
      "name": "Revenue Tier",
      "dax_expression": "IF(\n    'Orders+ (Sample - Superstore)'[Net Revenue ] > 1000,\n    \"High Margin\",\n    IF(\n        'Orders+ (Sample - Superstore)'[Profit Margin %] > 10,\n        \"Medium Margin\",\n        \"Low Margin\"\n    )\n)",
      "solution_explanation": "Translated the row-level nested IF for Revenue Tier into a calculated column using the previously created Profit Margin % column."
    },
    {
      "type": "calculated_column",
      "table": "Orders+ (Sample - Superstore)",
      "name": "Profit Health",
      "dax_expression": "VAR _ratio = 'Orders+ (Sample - Superstore)'[Profit Ratio ]\nVAR _revTier = 'Orders+ (Sample - Superstore)'[Revenue Tier]\nRETURN\nIF(\n    _ratio > 0.2,\n    IF(_revTier = \"High\", \"Excellent\", \"Good\"),\n    IF(_revTier = \"Low\", \"Poor\", \"Average\")\n)",
      "solution_explanation": "Converted the nested IF logic for Profit Health to a calculated column using row-level fields (Profit Ratio and Revenue Tier)."
    },
    {
      "type": "calculated_column",
      "table": "Orders+ (Sample - Superstore)",
      "name": "Profitablity Tier",
      "dax_expression": "IF(\n    'Orders+ (Sample - Superstore)'[Profit Margin %] > 20,\n    \"High Margin\",\n    IF(\n        'Orders+ (Sample - Superstore)'[Profit Margin %] > 10,\n        \"Medium Margin\",\n        \"Low Margin\"\n    )\n)",
      "solution_explanation": "Translated the row-level Profitablity Tier logic into a calculated column using the Profit Margin % calculated column."
    },
    {
      "type": "calculated_column",
      "table": "Orders+ (Sample - Superstore)",
      "name": "Priority Segment",
      "dax_expression": "IF(\n    'Orders+ (Sample - Superstore)'[Profit Health] = \"Excellent\" && 'Orders+ (Sample - Superstore)'[Profitablity Tier] = \"High Margin\",\n    \"Top Priority\",\n    \"Normal\"\n)",
      "solution_explanation": "Converted the row-level conditional that depends on Profit Health and Profitablity Tier into a calculated column on Orders+ (Sample - Superstore)."
    }
  ]
}