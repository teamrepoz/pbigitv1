{
  "calculations": [
    {
      "name": "Delta Down CAD 5Y Diff",
      "table_name": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "tableau_expression": "[Delta Down T CAD 5Y]* [Date Sign]",
      "datatype": "real",
      "calculation_context": {
        "Expression": "[Delta Down T CAD 5Y]* [Date Sign]",
        "calculated_fields": {
          "Date Sign": "if [Parameters].[Use Custom Date] then \r\n (if [Max Date Exclude]= [EFFECTIVE_DATE] then 1 else \r\n    if [MAX_DATE -1day]=[EFFECTIVE_DATE] then -1 else 0 end END)\r\nelse if [EFFECTIVE_DATE]= [Parameters].[End Date] then 1 else \r\n    if [EFFECTIVE_DATE]= [Parameters].[Start Date] then -1 else 0 END END end",
          "Delta Down T CAD 5Y": "// Modified calculations to Include term label= 1 Yr Swap etc.- Shyamala- 12-12-2018\r\ncase [MARKET_NAME]\r\nwhen \"sCADMid\" then    //Major CAD\r\n        if      ([TERM_LABEL])= \"3 Yr\" or ([TERM_LABEL])= \"3 Yr Swap\" \r\n        then    1/3*([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n        +\r\n        if      ([TERM_LABEL])= \"4 Yr\" or ([TERM_LABEL])= \"4 Yr Swap\" \r\n        then    2/3*([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n        +\r\n        if      ([TERM_LABEL])= \"5 Yr\" or ([TERM_LABEL])= \"5 Yr Swap\" \r\n        then    ([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n        +\r\n        if      ([TERM_LABEL])= \"6 Yr\" or ([TERM_LABEL])= \"6 Yr Swap\" \r\n        then    4/5*([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n        +\r\n        if      ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\" \r\n        then    3/5*([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n        +\r\n        if      ([TERM_LABEL])= \"8 Yr\" or ([TERM_LABEL])= \"8 Yr Swap\" \r\n        then    2/5*([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n        +\r\n        if      ([TERM_LABEL])= \"9 Yr\" or ([TERM_LABEL])= \"9 Yr Swap\" \r\n        then    1/5*([Delta Down T CAD] + [Fix Value T]) else 0 end\r\n\r\nwhen \"CADsCAD1mMid\" then    //1m CAD Basis\r\n        if ([TERM_LABEL])= \"3 Yr\" or ([TERM_LABEL])= \"3 Yr Swap\" \r\n        then 1/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"4 Yr\" or ([TERM_LABEL])= \"4 Yr Swap\" \r\n        then 2/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"5 Yr\" or ([TERM_LABEL])= \"5 Yr Swap\" \r\n        then ([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\" \r\n        then 3/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n\r\nwhen \"CADsCAD6mMid\" then  //6m CAD Basis\r\n        if ([TERM_LABEL])= \"3 Yr\" or ([TERM_LABEL])= \"3 Yr Swap\" \r\n        then 1/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"4 Yr\" or ([TERM_LABEL])= \"4 Yr Swap\" \r\n        then 2/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"5 Yr\" or ([TERM_LABEL])= \"5 Yr Swap\" \r\n        then ([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\" \r\n        then 3/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n\r\nwhen \"CADsCAD1dMid\" then   // OIS CAD Basis\r\n        if ([TERM_LABEL])= \"3 Yr\" or ([TERM_LABEL])= \"3 Yr Swap\" \r\n        then 1/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"4 Yr\" or ([TERM_LABEL])= \"4 Yr Swap\" \r\n        then 2/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"5 Yr\" or ([TERM_LABEL])= \"5 Yr Swap\" OR \r\n        ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>731 and  [Risk Date # of Days]<=1096) //Updated for Base curve by Humaid Khan Jan 19 2023\r\n        then ([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"6 Yr\" or ([TERM_LABEL])= \"6 Yr Swap\" \r\n        then 4/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\" \r\n        then 3/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"8 Yr\" or ([TERM_LABEL])= \"8 Yr Swap\" \r\n        then 2/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"9 Yr\" or ([TERM_LABEL])= \"9 Yr Swap\" \r\n        then 1/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n\r\n\r\nwhen \"USDsCADUSDMid\" then   //CCIRS CAD Basis\r\n        if ([TERM_LABEL])= \"3 Yr\" or ([TERM_LABEL])= \"3 Yr Swap\" \r\n        then 1/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"4 Yr\" or ([TERM_LABEL])= \"4 Yr Swap\" \r\n        then 2/3*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"5 Yr\" or ([TERM_LABEL])= \"5 Yr Swap\" \r\n        then ([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"6 Yr\" or ([TERM_LABEL])= \"6 Yr Swap\" \r\n        then 4/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\" \r\n        then 3/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"8 Yr\" or ([TERM_LABEL])= \"8 Yr Swap\" \r\n        then 2/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n        + \r\n        if ([TERM_LABEL])= \"9 Yr\" or ([TERM_LABEL])= \"9 Yr Swap\" \r\n        then 1/5*([Delta Down T CAD]+ [Fix Value T])  else 0 end\r\n\r\n\r\nend",
          "Delta Down T CAD": "//if [Use Custom Currency]\r\n//then \r\nzn([Delta Down T]*[TO_CAD])\r\n\r\n\r\n\r\n//else \r\n//case [FXConversion]\r\n//when \"Reported\" then ([Delta Down T])\r\n//when \"Natural\" then \r\n //   case [marketCCY]\r\n //   when \"AUD\" then ([Delta Down T])*[toAUD]\r\n //   when \"CAD\" then ([Delta Down T])*[toCAD]\r\n //   when \"CHF\" then [Delta Down T]*[toCHF]\r\n //   when \"EUR\" then [Delta Down T]*[toEUR]\r\n  //  when \"GBP\" then [Delta Down T]*[toGBP]\r\n //   when \"HKD\" then [Delta Down T]*[toHKD]\r\n //   when \"JPY\" then [Delta Down T]*[toJPY]\r\n //   when \"MXN\" then [Delta Down T]*[toMXN]\r\n //   when \"NZD\" then [Delta Down T]*[toNZD]\r\n //   when \"SEK\" then [Delta Down T]*[toSEK]\r\n //   when \"SGD\" then [Delta Down T]*[toSGD]\r\n //   when \"USD\" then [Delta Down T]*[toUSD]\r\n //   else null\r\n  //  end\r\n//when \"CAD\" then [Delta Down T]*[toCAD]\r\n//when \"USD\" then [Delta Down T]*[toUSD]\r\n//when \"EUR\" then [Delta Down T]*[toEUR]\r\n//when \"GBP\" then [Delta Down T]*[toGBP]\r\n//else  null\r\n//end\r\n\r\n//end",
          "Risk Date # of Days": "[RISK_DATE]-[EFFECTIVE_DATE]",
          "Use Custom Date": "false",
          "End Date": "#2017-01-06#",
          "Market Subtype": "// Created by Antoine Des Aulniers Favreau\r\n// Updated on 10/13/2017 by Antoine Des Aulniers Favreau\r\n// Current field is not being updated in RWH Market Dim. This is to make sure we do not have null values. This field replace some of the null values in RWH with the logical Market Subtype for each curve.\r\n// Originally intended for IR curves. Also applied to Inflation curves and Vol. surfaces.\r\n\r\nIF ISNULL([MARKET_SUBTYPE]) THEN \r\n    IF CONTAINS([Market Title], \"Major\") THEN \"Major Curve\"\r\n    ELSEIF CONTAINS([Market Title],\"CCIRS\") THEN \"CCIRS Basis\"\r\n    ELSEIF CONTAINS([Market Title],\"1m\") THEN \"1m Basis\"\r\n    ELSEIF CONTAINS([Market Title],\"3m\") THEN \"3m Basis\" \r\n    ELSEIF CONTAINS([Market Title],\"6m\") THEN \"6m Basis\"\r\n    ELSEIF CONTAINS([Market Title],\"12m\") THEN \"12m Basis\"\r\n    ELSEif CONTAINS([Market Title],\"Vol\") then mid([Market Title],5)\r\n    else [MARKET_TYPE]\r\n    END\r\nELSE [MARKET_SUBTYPE]\r\nEND",
          "Max Date Exclude": "//if today() = date(\"12/26/2016\") or \r\n   // today() = date(\"01/02/2017\") or \r\n   // today() = date(\"12/26/2017\") or \r\n   // today() = date(\"01/02/2018\") or \r\n   // today() = date(\"12/26/2018\") or \r\n   // today() = date(\"01/02/2019\") or \r\n   // today() = date(\"12/26/2019\") or   \r\n   // today() = date(\"01/02/2020\")  \r\n\r\n\r\n//then \r\n\r\n   // case datepart('weekday',today())\r\n   // when 1 then today()-3\r\n   // when 2 then today()-4\r\n   // else today()-2\r\n   // end\r\n\r\n//else \r\n\r\n    case datepart('weekday',today())\r\n    when 1 then today()-2\r\n    when 2 then today()-3\r\n    else today()-1\r\n    end\r\n//end",
          "Fix Value T": "zn([Sheet1 - Value])\r\n//if [Use Custom Date] then \r\n  //  (if [Max Date Exclude]= [Effective Date] then \r\n//        (if [Fix Date 1]=[Date (End Date)] then ([Fix Value 1]) else 0 end) +\r\n //       (if [Fix Date 2]=[Date (End Date)] then ([Fix Value 2]) else 0 end) +\r\n  //      (if [Fix Date 3]=[Date (End Date)] then ([Fix Value 3]) else 0 end) +\r\n   //     (if [Fix Date 4]=[Date (End Date)] then ([Fix Value 4]) else 0 end) +\r\n  //      (if [Fix Date 5]=[Date (End Date)] then ([Fix Value 5]) else 0 end) +\r\n  //      (if [Fix Date 6]=[Date (End Date)] then ([Fix Value 6]) else 0 end) +\r\n   //     (if [Fix Date 7]=[Date (End Date)] then ([Fix Value 7]) else 0 end) +\r\n   //     (if [Fix Date 8]=[Date (End Date)] then ([Fix Value 8]) else 0 end) +\r\n    //    (if [Fix Date 9]=[Date (End Date)] then ([Fix Value 9]) else 0 end) +\r\n   //     (if [Fix Date 10]=[Date (End Date)] then ([Fix Value 10]) else 0 end) +\r\n    //    (if [Fix Date 11]=[Date (End Date)] then ([Fix Value 11]) else 0 end) +\r\n    //    (if [Fix Date 12]=[Date (End Date)] then ([Fix Value 12]) else 0 end) +\r\n        //(if [Fix Date 13]=[Date (End Date)] then ([Fix Value 13]) else 0 end) +\r\n    //    (if [Fix Date 14]=[Date (End Date)] then ([Fix Value 14]) else 0 end) +\r\n    //    (if [Fix Date 15]=[Date (End Date)] then ([Fix Value 15]) else 0 end)\r\n\r\n  //  else 0 END)\r\n//else if [Effective Date]= [End Date] then \r\n    //    (if [Fix Date 1]=[Date (End Date)] then ([Fix Value 1]) else 0 end) +\r\n    //    (if [Fix Date 2]=[Date (End Date)] then ([Fix Value 2]) else 0 end) +\r\n    //    (if [Fix Date 3]=[Date (End Date)] then ([Fix Value 3]) else 0 end) +\r\n     //   (if [Fix Date 4]=[Date (End Date)] then ([Fix Value 4]) else 0 end) +\r\n       // (if [Fix Date 5]=[Date (End Date)] then ([Fix Value 5]) else 0 end) +\r\n       // (if [Fix Date 6]=[Date (End Date)] then ([Fix Value 6]) else 0 end) +\r\n      //  (if [Fix Date 7]=[Date (End Date)] then ([Fix Value 7]) else 0 end) +\r\n     //   (if [Fix Date 8]=[Date (End Date)] then ([Fix Value 8]) else 0 end) +\r\n    //    (if [Fix Date 9]=[Date (End Date)] then ([Fix Value 9]) else 0 end) +\r\n    //    (if [Fix Date 10]=[Date (End Date)] then ([Fix Value 10]) else 0 end) +\r\n      //  (if [Fix Date 11]=[Date (End Date)] then ([Fix Value 11]) else 0 end) +\r\n        //(if [Fix Date 12]=[Date (End Date)] then ([Fix Value 12]) else 0 end) +\r\n       // (if [Fix Date 13]=[Date (End Date)] then ([Fix Value 13]) else 0 end) +\r\n      //  (if [Fix Date 14]=[Date (End Date)] then ([Fix Value 14]) else 0 end) +\r\n       // (if [Fix Date 15]=[Date (End Date)] then ([Fix Value 15]) else 0 end)\r\n\r\n   // else 0 END END",
          "Start Date": "#2017-01-05#",
          "MAX_DATE -1day": "case datepart('weekday',[Max Date Exclude])\r\nwhen 1 then [Max Date Exclude]-2\r\nwhen 2 then [Max Date Exclude]-3\r\nelse [Max Date Exclude]-1\r\nend",
          "Date (End Date)": "if [Parameters].[Use Custom Date] then \r\n    [Max Date Exclude] else [Parameters].[End Date]\r\nend",
          "Sheet1 - Value": "INT(NULL)",
          "Delta Down T": "//if [Use Custom Date] then \r\n  //  (if [Max Date Exclude]= [Effective Date] then [Delta Down] else 0 END)\r\n//else if [Effective Date]= [End Date] then [Delta Down] else 0 END END\r\n\r\n\r\n[DELTA_DOWN]",
          "marketCCY": "// Created by Antoine Des Aulniers Favreau\r\n// Updated on 10/13/2017 by Antoine Des Aulniers Favreau\r\n// Updated on 11/22/107 by Antoine Des Aulniers Favreau to take into account Skew/Sabr vol surface and ColVa curves.\r\n// This tries to identify the currency of the curve. Using the “FXConversion Parameter” = Natural, it will right FX Rate to display the risk in the currency of the curve.\r\n// Originally intended for IR curves. Also applied to Inflation curves and Vol. surfaces.\r\n\r\nIF left([Market Name], 3)=\"IR \" THEN REPLACE([Market Name],\"IR \",\"\") //Old format\r\nELSEIF CONTAINS([Market Name],\"1dMid\") then LEFT([Market Name],FIND([Market Name],\"s\")-1) //OIS Basis\r\nELSEIF CONTAINS([Market Name],\"6mMid\") then LEFT([Market Name],FIND([Market Name],\"s\")-1) //6m Basis\r\nELSEIF CONTAINS([Market Name],\"12mMid\") then LEFT([Market Name],FIND([Market Name],\"s\")-1) //12m Basis\r\nELSEIF CONTAINS([Market Name],\"1mMid\") then left(REPLACE(MID([Market Name],FIND([Market Name],\"s\")+1),\"1mMid\",\"\"),3) //1m Basis\r\nELSEIF CONTAINS([Market Name],\"3-monthMid\") then left(REPLACE(MID([Market Name],FIND([Market Name],\"s\")+1),\"3-monthMid\",\"\"),3) //3m Basis\r\nELSEIF CONTAINS([Market Name],\"USDMid\") and LEFT([Market Name],3)=\"USD\" THEN left(REPLACE(REPLACE([Market Name],\"USDs\",\"\"),\"USDMid\",\"\"),3) //CCIRS Basis\r\nELSEIF LEFT([Market Name],1)=\"s\" and (RIGHT([Market Name],3)=\"Mid\" OR RIGHT([Market Name],9)=\"Mid_colva\") then\r\n    CASE left(REPLACE(REPLACE([Market Name],\"Mid\",\"\"),\"s\",\"\"),3)\r\n    WHEN \"USO\" THEN \"USD\"\r\n    WHEN \"CBO\" THEN \"CAD\"\r\n    WHEN \"EBO\" THEN \"EUR\"\r\n    WHEN \"GBO\" THEN \"GBP\"\r\n    ELSE left(REPLACE(REPLACE([Market Name],\"Mid\",\"\"),\"s\",\"\"),3)\r\n    END\r\nELSEIF LEFT([Market Name],1)=\"p\" and RIGHT([Market Name],3)=\"Mid\"  then REPLACE(REPLACE([Market Name],\"Mid\",\"\"),\"p\",\"\")\r\nELSEIF (LEFT([Market Name],1)=\"f\" or LEFT([Market Name],1)=\"i\") and (RIGHT([Market Name],3)=\"Mid\"  or right([Market Name],9)=\"Mid_colva\") then MID([Market Name],2,3) //vol surface + inf. curve\r\nELSEIF (LEFT([Market Name],1)=\"f\" and (RIGHT([Market Name],3)=\"Mid\")) or contains([Market Name],\"Skew\")  or contains([Market Name],\"SABR\")\r\n    then MID([Market Name],2,3)                                         // Skew & SABR vol surface\r\nelseif right([Market Name],4)= \":Std\" then left([Market Name],3)\r\n// Exceptions\r\nELSEIF [Market Name]=\"USDsUSDCUPOMMid\" then \"USD\"\r\nELSEIF contains([Market Name],\"xSpot\")  then mid([Market Name],6,3) //FX Spot Curve\r\nELSEIF contains([Market Name],\"USCPI\")  then \"USD\"\r\nELSEIF contains([Market Name],\"HICPX\")  then \"EUR\"\r\n\r\nELSE \"ERR\"\r\n\r\nEND",
          "Market Title": "// Created by Antoine Des Aulniers Favreau\r\n// Updated on 10/13/2017 by Antoine Des Aulniers Favreau\r\n// Current field is not being updated in RWH Market Dim. This is to make sure we do not have null values. This field replace some of the null values in RWH with the logical Market Title RWH for each curve.\r\n// Originally intended for IR curves. Also applied to Inflation curves and Vol. surfaces.\r\n\r\nIF ISNULL([MARKET_TITLE]) THEN\r\n//Major Curve            \r\n    IF CONTAINS([MARKET_NAME],\"Mid\") THEN\r\n        IF LEFT([MARKET_NAME],1)=\"s\" AND LEN([MARKET_NAME])=7 THEN\r\n            CASE REPLACE(REPLACE([MARKET_NAME],\"Mid\",\"\"),\"s\",\"\")\r\n            WHEN \"USO\" THEN \"Major USD\"\r\n            WHEN \"CBO\" THEN \"Major CAD\"\r\n            WHEN \"EBO\" THEN \"Major EUR\"\r\n            WHEN \"GBO\" THEN \"Major GBP\"\r\n            ELSE \"Major \"+REPLACE(REPLACE([MARKET_NAME],\"Mid\",\"\"),\"s\",\"\")\r\n            END\r\n//CCIRS\r\n        ELSEIF CONTAINS([MARKET_NAME],\"USDs\") AND CONTAINS([MARKET_NAME],\"USDMid\") THEN\r\n            \"CCIRS \" + REPLACE(REPLACE([MARKET_NAME],\"USDs\",\"\"),\"USDMid\",\"\") + \" Basis\"\r\n\r\n///Exceptions\r\n        \r\n        //ELSEIF ([Market Name RWH]=\"CHFsCHF6mMid\") THEN \"6m CHF Basis\"\r\n        //ELSEIF ([Market Name RWH]=\"USDsUSD12mMid\") THEN \"12m USD Basis\"\r\n        //ELSEIF ([Market Name RWH]=\"sNZD1mMid\") THEN \"1m NZD Basis\"\r\n        ELSEIF ([MARKET_NAME]=\"USDsUSDCUPOMMid\") THEN \"3m USD CUPOM Basis\"\r\n        ELSEIF ([MARKET_NAME]=\"EURsEURLibor-6mMid\") THEN \"6m EUR Libor Basis\"\r\n\r\n// Vol Surface\r\n        ELSEif LEFT([MARKET_NAME],1)=\"f\" then\r\n            if CONTAINS([MARKET_NAME],\"swpnN\") then mid([MARKET_NAME],2,3) + \" Normal Swaption Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"swpn\") then mid([MARKET_NAME],2,3) + \" Swaption Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"SABRN\") then mid([MARKET_NAME],2,3) + \" Normal SABR Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"SABR\") then mid([MARKET_NAME],2,3) + \" SABR Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"cap\") and CONTAINS([MARKET_NAME],\"1mNMid\")  then mid([MARKET_NAME],2,3) + \" Normal 1M CAP Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"cap\") and CONTAINS([MARKET_NAME],\"NMid\")  then mid([MARKET_NAME],2,3) + \" Normal CAP Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"cap\") then mid([MARKET_NAME],2,3) + \" CAP Vol\"\r\n            else \"ERR\"\r\n            END\r\n\r\n//Minor 1m,3m,6m,12m   \r\n        ELSEIF CONTAINS([MARKET_NAME],\"1m\") and CONTAINS([MARKET_NAME],\"Mid\")then \"1m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSEIF CONTAINS([MARKET_NAME],\"3\") and CONTAINS([MARKET_NAME],\"Mid\") then \"3m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSEIF CONTAINS([MARKET_NAME],\"6\") and CONTAINS([MARKET_NAME],\"Mid\") then \"6m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSEIF CONTAINS([MARKET_NAME],\"12\") and CONTAINS([MARKET_NAME],\"Mid\") then \"12m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSE [MARKET_NAME]\r\n\r\n        END\r\n\r\n//Other Vol surface\r\n    ELSEIF CONTAINS([MARKET_NAME],\"skew\") then mid([MARKET_NAME],2,3) + \" Swaption Skew Vol\"\r\n    ELSEIF CONTAINS([MARKET_NAME],\"IR \") THEN REPLACE([MARKET_NAME],\"IR \", \"Major \")\r\n    ELSE [MARKET_NAME]\r\n    END\r\nELSEIF CONTAINS([MARKET_TITLE],\"Eur\") THEN REPLACE([MARKET_TITLE],\"Eur\",\"EUR\")\r\nELSE [MARKET_TITLE]\r\nEND",
          "FXConversion": "\"Natural\"",
          "Market Name": "[MARKET_NAME]"
        },
        "parameters": [],
        "col_to_datatype_mapping": {
          "DELTA_DOWN": "real",
          "EFFECTIVE_DATE": "datetime",
          "MARKET_NAME": "string",
          "MARKET_SUBTYPE": "string",
          "MARKET_TITLE": "string",
          "MARKET_TYPE": "string",
          "RISK_DATE": "datetime",
          "TERM_LABEL": "string",
          "TO_CAD": "real"
        },
        "calc_fields_to_datatype_mapping": {
          "Date Sign": "integer",
          "Delta Down T CAD 5Y": "real",
          "Delta Down T CAD": "real",
          "Risk Date # of Days": "real",
          "Use Custom Date": "boolean",
          "End Date": "date",
          "Fix Value T": "integer",
          "Start Date": "date",
          "Sheet1 - Value": "integer",
          "Delta Down T": "real",
          "FXConversion": "string",
          "Market Subtype": "String",
          "Max Date Exclude": "DateTime",
          "MAX_DATE -1day": "DateTime",
          "Date (End Date)": "DateTime",
          "marketCCY": "String",
          "Market Title": "String",
          "Market Name": "String"
        }
      }
    }
  ]
}