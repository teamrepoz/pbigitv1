{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Risk Date # of Days",
      "dax_expression": "'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[RISK_DATE] - 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[EFFECTIVE_DATE]",
      "solution_explanation": "Converted the dependent calculated field by subtracting the two datetime columns at row-level. In DAX, date subtraction returns the difference in days."
    },
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Bear Flattener Large Shock",
      "dax_expression": "VAR Days = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days]\nRETURN\nIF(\n    Days < 750,\n    10,\n    IF(\n        Days > 10950,\n        5,\n        10 * (1 - (Days - 750) / (10950 - 750)) + 5 * ((Days - 750) / (10950 - 750))\n    )\n)",
      "solution_explanation": "Translated the Tableau IF / ELSEIF logic to nested DAX IF functions and referenced the row-level 'Risk Date # of Days' calculated column. Comments were removed. This is a row-level transformation, so it is a calculated column."
    }
  ]
}