{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Book Level 1 NA IRD",
      "dax_expression": "IF('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[BOOK_LOCATION] = \"New York\",\n    \"NY Books\",\n    SWITCH(\n        'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[BOOK_LEVEL1],\n        \"NOTESACCTSTR\", \"STRUCTURED\",\n        \"TORUSFI\", \"STRUCTURED\",\n        \"NOTESMKTRNF\", \"STRUCTURED\",\n        \"NINDR\", \"NY Books\",\n        \"NIRSW\", \"NY Books\",\n        \"NYINFDIR\", \"NY Books\",\n        \"NYIRSWAP\", \"NY Books\",\n        \"SWAPSHEDGE\", \"SWAPS\",\n        \"TORFIHEDGE\", \"SWAPS\",\n        \"STRATEGIC\", \"SWAPS\",\n        \"TORUSSWAP\", \"SWAPS\",\n        \"TSWP\", \"SWAPS\",\n        'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[BOOK_LEVEL1]\n    )\n)",
      "solution_explanation": "Converted the nested IF/CASE logic to DAX using IF for the BOOK_LOCATION check and SWITCH on BOOK_LEVEL1. All row-level column references were converted to the 'Table'[Column] format."
    },
    {
      "type": "measure",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Risk Aggregate",
      "dax_expression": "VAR _param = SELECTEDVALUE('Book or Product'[Display As])\nRETURN\nSWITCH(\n    _param,\n    \"Book\", 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Book Level 1 NA IRD],\n    \"Product\", 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[INSTRUMENT_TYPE],\n    'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[INSTRUMENT_TYPE]\n)",
      "solution_explanation": "Replaced the Tableau CASE on a parameter with DAX SELECTEDVALUE for the parameter and SWITCH to map parameter values to the appropriate columns. All column references use the 'Table'[Column] format.",
      "type_changed_reason": "The calculation references a parameter ([Parameters].[Book or Product]), and all parameter-based calculations must be created as measures."
    }
  ]
}