{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Book Level 1 NA IRD",
      "dax_expression": "VAR loc = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[BOOK_LOCATION]\nVAR lvl = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[BOOK_LEVEL1]\nRETURN\nIF(\n    loc = \"New York\",\n    \"NY Books\",\n    SWITCH(\n        TRUE(),\n        lvl = \"NOTESACCTSTR\" || lvl = \"TORUSFI\" || lvl = \"NOTESMKTRNF\", \"STRUCTURED\",\n        lvl = \"NINDR\" || lvl = \"NIRSW\" || lvl = \"NYINFDIR\" || lvl = \"NYIRSWAP\", \"NY Books\",\n        lvl = \"SWAPSHEDGE\" || lvl = \"TORFIHEDGE\" || lvl = \"STRATEGIC\" || lvl = \"TORUSSWAP\" || lvl = \"TSWP\", \"SWAPS\",\n        lvl\n    )\n)",
      "solution_explanation": "Converted the row-level Tableau IF/CASE logic into a DAX calculated column. Comments in the Tableau formula were ignored. The top-level BOOK_LOCATION check is implemented with IF; the CASE on BOOK_LEVEL1 is implemented using SWITCH(TRUE(), ...) with combined OR conditions to map multiple WHEN values to the same result. All column references were transformed to the 'TableName'[Column] format."
    }
  ]
}