{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Delta Down All CCY 5Y",
      "dax_expression": "VAR termLabel = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL]\nVAR marketSubtype = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Market Subtype]\nVAR riskDays = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days]\nVAR marketName = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Market Name]\nVAR deltaPlusFix = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Delta Down T USD] + 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Fix Value T]\nRETURN\nIF(\n    termLabel = \"5 Yr\" || termLabel = \"5 Yr Swap\" ||\n    (marketSubtype = \"Major Curve\" && riskDays > 731 && riskDays <= 1150 && marketName = \"USDsUSDs1dMid\") ||\n    (marketSubtype = \"Major Curve\" && riskDays > 731 && riskDays <= 1097),\n    deltaPlusFix,\n    0\n)\n+\nIF(\n    termLabel = \"4 Yr\" || termLabel = \"4 Yr Swap\",\n    2/3 * deltaPlusFix,\n    0\n)\n+\nIF(\n    termLabel = \"3 Yr\" || termLabel = \"3 Yr Swap\",\n    1/3 * deltaPlusFix,\n    0\n)\n+\nIF(\n    termLabel = \"6 Yr\" || termLabel = \"6 Yr Swap\",\n    4/5 * deltaPlusFix,\n    0\n)\n+\nIF(\n    termLabel = \"7 Yr\" || termLabel = \"7 Yr Swap\",\n    3/5 * deltaPlusFix,\n    0\n)\n+\nIF(\n    termLabel = \"8 Yr\" || termLabel = \"8 Yr Swap\",\n    2/5 * deltaPlusFix,\n    0\n)\n+\nIF(\n    termLabel = \"9 Yr\" || termLabel = \"9 Yr Swap\",\n    1/5 * deltaPlusFix,\n    0\n)",
      "solution_explanation": "Converted the Tableau IF blocks into DAX IF expressions and combined them via addition. Logical operators were mapped (OR -> ||, AND -> &&). All field references were converted to the 'TableName'[Column] format and a VAR (deltaPlusFix) was used to represent [Delta Down T USD] + [Fix Value T] for reuse."
    }
  ]
}