{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Delta Down T CAD 10Y",
      "dax_expression": "VAR Market = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[MARKET_NAME]\nVAR Term = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL]\nVAR DeltaPlusFix = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Delta Down T CAD] + 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Fix Value T]\nRETURN\nSWITCH(\n    Market,\n    \"sCADMid\",\n        IF(Term = \"6 Yr\" || Term = \"6 Yr Swap\", 1/5 * DeltaPlusFix, 0)\n      + IF(Term = \"7 Yr\" || Term = \"7 Yr Swap\", 2/5 * DeltaPlusFix, 0)\n      + IF(Term = \"8 Yr\" || Term = \"8 Yr Swap\", 3/5 * DeltaPlusFix, 0)\n      + IF(Term = \"9 Yr\" || Term = \"9 Yr Swap\", 4/5 * DeltaPlusFix, 0)\n      + IF(Term = \"10 Yr\" || Term = \"10 Yr Swap\", 1 * DeltaPlusFix, 0)\n      + IF(Term = \"12 Yr\" || Term = \"12 Yr Swap\", 18/20 * DeltaPlusFix, 0)\n      + IF(Term = \"15 Yr\" || Term = \"15 Yr Swap\", 15/20 * DeltaPlusFix, 0)\n      + IF(Term = \"20 Yr\" || Term = \"20 Yr Swap\", 10/20 * DeltaPlusFix, 0),\n\n    \"CADsCAD1mMid\",\n        IF(Term = \"7 Yr\" || Term = \"7 Yr Swap\", 2/5 * DeltaPlusFix, 0)\n      + IF(Term = \"10 Yr\" || Term = \"10 Yr Swap\", 1 * DeltaPlusFix, 0)\n      + IF(Term = \"12 Yr\" || Term = \"12 Yr Swap\", 18/20 * DeltaPlusFix, 0)\n      + IF(Term = \"15 Yr\" || Term = \"15 Yr Swap\", 15/20 * DeltaPlusFix, 0)\n      + IF(Term = \"20 Yr\" || Term = \"20 Yr Swap\", 10/20 * DeltaPlusFix, 0),\n\n    \"CADsCAD6mMid\",\n        IF(Term = \"7 Yr\" || Term = \"7 Yr Swap\", 2/5 * DeltaPlusFix, 0)\n      + IF(Term = \"10 Yr\" || Term = \"10 Yr Swap\", 1 * DeltaPlusFix, 0)\n      + IF(Term = \"12 Yr\" || Term = \"12 Yr Swap\", 18/20 * DeltaPlusFix, 0)\n      + IF(Term = \"15 Yr\" || Term = \"15 Yr Swap\", 15/20 * DeltaPlusFix, 0)\n      + IF(Term = \"20 Yr\" || Term = \"20 Yr Swap\", 10/20 * DeltaPlusFix, 0),\n\n    \"CADsCAD1dMid\",\n        IF(Term = \"6 Yr\" || Term = \"6 Yr Swap\", 1/5 * DeltaPlusFix, 0)\n      + IF(Term = \"7 Yr\" || Term = \"7 Yr Swap\", 2/5 * DeltaPlusFix, 0)\n      + IF(Term = \"8 Yr\" || Term = \"8 Yr Swap\", 3/5 * DeltaPlusFix, 0)\n      + IF(Term = \"9 Yr\" || Term = \"9 Yr Swap\", 4/5 * DeltaPlusFix, 0)\n      + IF(Term = \"10 Yr\" || Term = \"10 Yr Swap\", 1 * DeltaPlusFix, 0)\n      + IF(Term = \"12 Yr\" || Term = \"12 Yr Swap\", 18/20 * DeltaPlusFix, 0)\n      + IF(Term = \"15 Yr\" || Term = \"15 Yr Swap\", 15/20 * DeltaPlusFix, 0)\n      + IF(Term = \"20 Yr\" || Term = \"20 Yr Swap\", 10/20 * DeltaPlusFix, 0)\n      + IF(Term = \"25 Yr\" || Term = \"25 Yr Swap\", 5/20 * DeltaPlusFix, 0),\n\n    \"USDsCADUSDMid\",\n        IF(Term = \"6 Yr\" || Term = \"6 Yr Swap\", 1/5 * DeltaPlusFix, 0)\n      + IF(Term = \"7 Yr\" || Term = \"7 Yr Swap\", 2/5 * DeltaPlusFix, 0)\n      + IF(Term = \"8 Yr\" || Term = \"8 Yr Swap\", 3/5 * DeltaPlusFix, 0)\n      + IF(Term = \"9 Yr\" || Term = \"9 Yr Swap\", 4/5 * DeltaPlusFix, 0)\n      + IF(Term = \"10 Yr\" || Term = \"10 Yr Swap\", 1 * DeltaPlusFix, 0)\n      + IF(Term = \"12 Yr\" || Term = \"12 Yr Swap\", 18/20 * DeltaPlusFix, 0)\n      + IF(Term = \"15 Yr\" || Term = \"15 Yr Swap\", 15/20 * DeltaPlusFix, 0)\n      + IF(Term = \"20 Yr\" || Term = \"20 Yr Swap\", 10/20 * DeltaPlusFix, 0)\n      + IF(Term = \"25 Yr\" || Term = \"25 Yr Swap\", 5/20 * DeltaPlusFix, 0),\n\n    0\n)",
      "solution_explanation": "Converted Tableau CASE/WHEN and nested IFs to DAX using SWITCH for MARKET_NAME with IF and logical OR (||) for TERM_LABEL checks. All column references were transformed to 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[ColumnName] format and a VAR (DeltaPlusFix) was used to avoid repeating the summed expression. The calculation is row-level (no aggregates or parameters) so it was implemented as a calculated column."
    }
  ]
}