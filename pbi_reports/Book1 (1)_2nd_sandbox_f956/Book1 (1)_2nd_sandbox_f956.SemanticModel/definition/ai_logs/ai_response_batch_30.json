{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Delta Down T USD 3M",
      "dax_expression": "VAR market = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[MARKET_NAME]\nVAR term = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL]\nVAR riskDays = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days]\nVAR base = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Delta Down T USD] + 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Fix Value T]\nRETURN\nSWITCH(\n    TRUE(),\n    market = \"sUSDMid\" && (term = \"3 Month\" || term = \"3M Cash\"),\n        base,\n    market = \"sUSDMid\" && (term = \"6 Month\" || term = \"6 Month Swap\"),\n        2/3 * base,\n    market = \"sUSDMid\" && (term = \"9 Month\" || term = \"9 Month Swap\"),\n        1/3 * base,\n\n    market = \"sUSOMid\" && (\n        term = \"3 Month\" || term = \"O/N\" || term = \"T/N\" || term = \"1 Week\" || term = \"2 Week\" || term = \"3 Week\" || term = \"1 Month\" || term = \"2 Month\"\n    ),\n        base,\n\n    market = \"USDsUSD1mMid\" && (term = \"1 Month\" || term = \"3 Month\"),\n        base,\n    market = \"USDsUSD1mMid\" && (term = \"6 Month\" || term = \"6 Month Swap\"),\n        2/3 * base,\n    market = \"USDsUSD1mMid\" && (term = \"9 Month\" || term = \"9 Month Swap\"),\n        1/3 * base,\n\n    market = \"USDsUSD6mMid\",\n        0,\n\n    market = \"USDsUSD1dMid\" && (\n        term = \"O/N\" || term = \"T/N\" || term = \"3 Month\" || term = \"1 Week\" || term = \"2 Week\" || term = \"3 Week\" || term = \"1 Month\" || term = \"2 Month\"\n        || (riskDays <= 91 && (CONTAINSSTRING(term, \"D\") || VALUE(RIGHT(term, 2)) >= 17))\n    ),\n        base,\n    market = \"USDsUSD1dMid\" && (term = \"6 Month\" || term = \"6 Month Swap\"),\n        2/3 * base,\n    market = \"USDsUSD1dMid\" && (term = \"9 Month\" || term = \"9 Month Swap\"),\n        1/3 * base,\n\n    market = \"USDsUSDs1dMid\" && (term = \"O/N\" || term = \"T/N\" || riskDays <= 91),\n        base,\n\n    0\n)",
      "solution_explanation": "Converted the Tableau CASE/WHEN and nested IFs into a DAX calculated column using VARs and SWITCH(TRUE()) for readability. All column references were transformed to the 'TableName'[Column] format. Tableau CONTAINS(...) was mapped to DAX CONTAINSSTRING(...), and the right(...)/int(...) logic was mapped to VALUE(RIGHT(...,2)) to evaluate the numeric suffix. The arithmetic weights (2/3, 1/3) and additive base ([Delta Down T USD] + [Fix Value T]) were preserved."
    }
  ]
}