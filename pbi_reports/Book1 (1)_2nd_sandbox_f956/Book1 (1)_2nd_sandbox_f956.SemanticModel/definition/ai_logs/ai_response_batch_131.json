{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Delta Down T USD 2Y",
      "dax_expression": "VAR Base = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Delta Down T USD] + 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Fix Value T]\nVAR Term = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL]\nVAR Market = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[MARKET_NAME]\nVAR Days = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days]\nRETURN\nSWITCH(\n    TRUE(),\n    Market = \"sUSDMid\",\n        IF( (Term = \"15 Month\" || Term = \"15 Month Swap\"), 1/4 * Base, 0 )\n      + IF( (Term = \"18 Month\" || Term = \"18 Month Swap\"), 2/4 * Base, 0 )\n      + IF( (Term = \"21 Month\" || Term = \"21 Month Swap\"), 3/4 * Base, 0 )\n      + IF( (Term = \"4 Yr\" || Term = \"4 Yr Swap\"), 1/3 * Base, 0 )\n      + IF( (Term = \"3 Yr\" || Term = \"3 Yr Swap\"), 2/3 * Base, 0 )\n      + IF( (Term = \"2 Yr\" || Term = \"2 Yr Swap\"), Base, 0 ),\n    Market = \"sUSOMid\",\n        IF( Term = \"15 Month\" || Term = \"18 Month\" || Term = \"18 Month Swap\" || Term = \"2Y\", Base, 0 ),\n    Market = \"USDsUSD1mMid\",\n        IF( Term = \"2 Yr\" || Term = \"2 Yr Swap\", Base, 0 )\n      + IF( Term = \"3 Yr\" || Term = \"3 Yr Swap\", 2/3 * Base, 0 )\n      + IF( Term = \"4 Yr\" || Term = \"4 Yr Swap\", 1/3 * Base, 0 )\n      + IF( Term = \"15 Month\", 1/4 * Base, 0 )\n      + IF( Term = \"18 Month\", 2/4 * Base, 0 )\n      + IF( Term = \"21 Month\", 3/4 * Base, 0 ),\n    Market = \"USDsUSD6mMid\",\n        IF( Term = \"2 Yr\" || Term = \"2 Yr Swap\", Base, 0 )\n      + IF( Term = \"3 Yr\" || Term = \"3 Yr Swap\", 2/3 * Base, 0 )\n      + IF( Term = \"4 Yr\" || Term = \"4 Yr Swap\", 1/3 * Base, 0 ),\n    Market = \"USDsUSD12mMid\",\n        IF( Term = \"2 Yr\" || Term = \"2 Yr Swap\", Base, 0 )\n      + IF( Term = \"3 Yr\" || Term = \"3 Yr Swap\", 2/3 * Base, 0 )\n      + IF( Term = \"4 Yr\" || Term = \"4 Yr Swap\", 1/3 * Base, 0 ),\n    Market = \"USDsUSD1dMid\",\n        IF( Term = \"15 Month\", 1/4 * Base, 0 )\n      + IF( Term = \"18 Month\" || Term = \"18 Month Swap\", 2/4 * Base, 0 )\n      + IF( Term = \"21 Month\" || Term = \"21 Month Swap\", 3/4 * Base, 0 )\n      + IF( Term = \"2 Yr\" || Term = \"2 Yr Swap\" || (Days > 365 && Days <= 731 && INT(RIGHT(Term, 2)) >= 17), Base, 0 )\n      + IF( Term = \"3 Yr\" || Term = \"3 Yr Swap\", 2/3 * Base, 0 )\n      + IF( Term = \"4 Yr\" || Term = \"4 Yr Swap\", 1/3 * Base, 0 ),\n    Market = \"USDsUSDs1dMid\",\n        IF( Term = \"3 Yr\" || Term = \"3 Yr Swap\", 2/3 * Base, 0 )\n      + IF( Term = \"4 Yr\" || Term = \"4 Yr Swap\", 1/3 * Base, 0 )\n      + IF( Term = \"2 Yr\" || Term = \"2 Yr Swap\" || (Days > 365 && Days <= 731), Base, 0 ),\n    0\n)",
      "solution_explanation": "Converted the row-level CASE/WHEN and IF logic into a DAX calculated column. All column references were mapped to 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Column]. A Base variable was used for the repeated ([Delta Down T USD] + [Fix Value T]) expression and the CASE was implemented with SWITCH(TRUE()) plus IF() blocks to mirror the summed conditional terms. No aggregations or parameters are present, so this is implemented as a calculated column."
    }
  ]
}