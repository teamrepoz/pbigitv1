{
  "calculations": [
    {
      "name": "Delta Down All CCY Parallel Diff",
      "table_name": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "tableau_expression": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n\r\n[Delta Down All CCY Parallel]*[Date Sign]",
      "datatype": "real",
      "calculation_context": {
        "Expression": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n\r\n[Delta Down All CCY Parallel]*[Date Sign]",
        "calculated_fields": {
          "Date Sign": "if [Parameters].[Use Custom Date] then \r\n (if [Max Date Exclude]= [EFFECTIVE_DATE] then 1 else \r\n    if [MAX_DATE -1day]=[EFFECTIVE_DATE] then -1 else 0 end END)\r\nelse if [EFFECTIVE_DATE]= [Parameters].[End Date] then 1 else \r\n    if [EFFECTIVE_DATE]= [Parameters].[Start Date] then -1 else 0 END END end",
          "Delta Down All CCY Parallel": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\nzn([Delta Down All CCY 3M])+\r\nzn([Delta Down All CCY 6M])+\r\nzn([Delta Down All CCY 9M])+\r\nzn([Delta Down All CCY 1Y])+\r\nzn([Delta Down All CCY 2Y])+\r\nzn([Delta Down All CCY 5Y])+\r\nzn([Delta Down All CCY 10Y])+\r\nzn([Delta Down All CCY 30Y])",
          "Delta Down All CCY 5Y": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n// Modified calculations to Include term label= 1 Yr Swap etc.- Shyamala- 12-12-2018\r\nif   \r\n\r\n\r\n        ([TERM_LABEL])= \"5 Yr\" or ([TERM_LABEL])= \"5 Yr Swap\" OR \r\n        ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>731 and  [Risk Date # of Days]<=1150 AND [Market Name]=\"USDsUSDs1dMid\") OR \r\n        ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>731 and [Risk Date # of Days]<=1097)\r\n\r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"4 Yr\" or ([TERM_LABEL])= \"4 Yr Swap\"\r\n        then 2/3*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"3 Yr\" OR ([TERM_LABEL])= \"3 Yr Swap\"\r\n       \r\n        then 1/3*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"6 Yr\" or ([TERM_LABEL])= \"6 Yr Swap\"\r\n        then 4/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\"\r\n        then 3/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"8 Yr\" or ([TERM_LABEL])= \"8 Yr Swap\"\r\n        then 2/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"9 Yr\" or ([TERM_LABEL])= \"9 Yr Swap\"\r\n        then 1/5*([Delta Down T USD]+ [Fix Value T])  else 0 end",
          "Delta Down All CCY 10Y": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n// Modified calculations to Include term label= 1 Yr Swap etc.- Shyamala- 12-12-2018\r\nif   \r\n        ([TERM_LABEL])= \"10 Yr\" or ([TERM_LABEL])= \"10 Yr Swap\" \r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"9 Yr\" or ([TERM_LABEL])= \"9 Yr Swap\"\r\n        then 4/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"8 Yr\" or ([TERM_LABEL])= \"8 Yr Swap\"\r\n        then 3/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"7 Yr\" or ([TERM_LABEL])= \"7 Yr Swap\"\r\n        then 2/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"6 Yr\" or ([TERM_LABEL])= \"6 Yr Swap\"\r\n        then 1/5*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"12 Yr\" or ([TERM_LABEL])= \"12 Yr Swap\"\r\n        then 9/10*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"15 Yr\" or ([TERM_LABEL])= \"15 Yr Swap\"\r\n        then 3/4*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"20 Yr\" or ([TERM_LABEL])= \"20 Yr Swap\"\r\n        then 1/2*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"25 Yr\" or ([TERM_LABEL])= \"25 Yr Swap\"\r\n        then 1/4*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\n        if ([TERM_LABEL])= \"11 Yr\" or ([TERM_LABEL])= \"11 Yr Swap\"\r\n        then 19/20*([Delta Down T USD]+ [Fix Value T]) else 0 END",
          "Delta Down All CCY 9M": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\nif   \r\n\r\n        ([TERM_LABEL])= \"9 Month\" OR\r\n        ([TERM_LABEL])= \"9 Month Swap\" OR\r\n        ([TERM_LABEL])= \"7 Month\" OR    // Added July 25th 2017\r\n        ([TERM_LABEL])= \"8 Month\" OR    // Added July 25th 2017\r\n        ([TERM_LABEL])= \"7 Month Swap\" OR \r\n        ([TERM_LABEL])= \"8 Month Swap\" OR \r\n\r\n// Modified for meeting date on 3/16/2018 by ADF\r\n    ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>183 and  [Risk Date # of Days]<=274) OR       \r\n    ([Market Subtype]=\"6m Basis\" and [Risk Date # of Days]>183  and  [Risk Date # of Days]<=274 and contains([TERM_LABEL],\"FRA\"))  // Added July 25th 2017\r\n\r\n\r\n\r\n \r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end",
          "Use Custom Date": "false",
          "End Date": "#2017-01-06#",
          "Delta Down All CCY 30Y": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n// Modified calculations to Include term label= 1 Yr Swap etc.- Shyamala- 12-12-2018\r\nif   \r\n        ([TERM_LABEL])= \"30 Yr\" OR ([TERM_LABEL])= \"30 Yr Swap\" OR\r\n        ([TERM_LABEL])= \"40 Yr\" OR ([TERM_LABEL])= \"40 Yr Swap\" OR\r\n        ([TERM_LABEL])= \"50 Yr\" OR ([TERM_LABEL])= \"50 Yr Swap\" OR\r\n        ([TERM_LABEL])= \"60 Yr\" OR ([TERM_LABEL])= \"60 Yr Swap\" OR\r\n        ([TERM_LABEL])= \"70 Yr\" OR ([TERM_LABEL])= \"70 Yr Swap\"\r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"12 Yr\" or ([TERM_LABEL])= \"12 Yr Swap\"\r\n        then 1/10*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"15 Yr\" or ([TERM_LABEL])= \"15 Yr Swap\"\r\n        then 1/4*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"20 Yr\" or ([TERM_LABEL])= \"20 Yr Swap\"\r\n        then 1/2*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"25 Yr\" or ([TERM_LABEL])= \"25 Yr Swap\"\r\n        then 3/4*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n         +\r\n        if ([TERM_LABEL])= \"11 Yr\" or ([TERM_LABEL])= \"11 Yr Swap\"\r\n        then 1/20*([Delta Down T USD]+ [Fix Value T]) else 0 END",
          "Max Date Exclude": "//if today() = date(\"12/26/2016\") or \r\n   // today() = date(\"01/02/2017\") or \r\n   // today() = date(\"12/26/2017\") or \r\n   // today() = date(\"01/02/2018\") or \r\n   // today() = date(\"12/26/2018\") or \r\n   // today() = date(\"01/02/2019\") or \r\n   // today() = date(\"12/26/2019\") or   \r\n   // today() = date(\"01/02/2020\")  \r\n\r\n\r\n//then \r\n\r\n   // case datepart('weekday',today())\r\n   // when 1 then today()-3\r\n   // when 2 then today()-4\r\n   // else today()-2\r\n   // end\r\n\r\n//else \r\n\r\n    case datepart('weekday',today())\r\n    when 1 then today()-2\r\n    when 2 then today()-3\r\n    else today()-1\r\n    end\r\n//end",
          "Delta Down All CCY 1Y": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n// Modified calculations to Include term label= 1 Yr Swap etc.- Shyamala- 12-12-2018\r\nif   \r\n\r\n        ([TERM_LABEL])= \"12 Month\" OR\r\n        ([TERM_LABEL])= \"12 Month Swap\" OR \r\n        ([TERM_LABEL])= \"1 Yr\" OR\r\n        ([TERM_LABEL])= \"1 Yr Swap\" OR\r\n        ([TERM_LABEL])= \"10 Month\" OR // Added July 25th 2017\r\n        ([TERM_LABEL])= \"11 Month\" OR// Added July 25th 2017\r\n        ([TERM_LABEL])= \"10 Month Swap\" OR \r\n        ([TERM_LABEL])= \"11 Month Swap\" OR \r\n\r\n// Modified for meeting date on 3/16/2018 by ADF\r\n        ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>274 and  [Risk Date # of Days]<=365) OR \r\n        ([Market Subtype]=\"6m Basis\" and [Risk Date # of Days]>274 and  [Risk Date # of Days]<=365 and contains([TERM_LABEL],\"FRA\"))  // Added July 25th 2017\r\n\r\n \r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end",
          "Delta Down All CCY 3M": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\nif   \r\n        ([TERM_LABEL])= \"O/N\" OR\r\n        ([TERM_LABEL])= \"T/N\" OR\r\n        ([TERM_LABEL])= \"1 Week\" OR\r\n        ([TERM_LABEL])= \"2 Week\" OR \r\n        ([TERM_LABEL])= \"3 Week\" OR\r\n        ([TERM_LABEL])= \"1 Month\" OR\r\n        ([TERM_LABEL])= \"2 Month\" OR\r\n        ([TERM_LABEL])= \"3 Month\" OR\r\n        ([TERM_LABEL])= \"3M Cash\" OR   //Added on 11/23/2018 by ADF\r\n        ( [Market Subtype]=\"Major Curve\" and [Risk Date # of Days]<=91)\r\n        \r\n \r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end",
          "Delta Down All CCY 2Y": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n// Modified calculations to Include term label= 1 Yr Swap etc.- Shyamala- 12-12-2018\r\n//Added 18 Month Swap\r\nif   \r\n\r\n\r\n        ([TERM_LABEL])= \"2 Yr\" OR\r\n        ([TERM_LABEL])= \"2Y\" OR\r\n        ([TERM_LABEL])= \"2 Yr Swap\" OR\r\n        ([TERM_LABEL])= \"18 Month\" OR\r\n        ([TERM_LABEL])= \"18 Month Swap\" OR\r\n        ([TERM_LABEL])= \"15 Month\" OR\r\n        ([TERM_LABEL])= \"15 Month Swap\" OR \r\n        ([TERM_LABEL])= \"21 Month\" OR \r\n        ([TERM_LABEL])= \"21 Month Swap\" OR \r\n\r\n// Modified for meeting date on 3/16/2018 by ADF\r\n\r\n        ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>365 and  [Risk Date # of Days]<=731) \r\n\r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end\r\n\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"3 Yr\" or\r\n        ([TERM_LABEL])= \"3 Yr Swap\"\r\n        then 2/3*([Delta Down T USD]+ [Fix Value T])  else 0 end\r\n\r\n        +\r\nIF \r\n        ([TERM_LABEL])= \"4 Yr\" or\r\n        ([TERM_LABEL])= \"4 Yr Swap\"\r\n        then 1/3*([Delta Down T USD]+ [Fix Value T])  else 0 end",
          "Start Date": "#2017-01-05#",
          "Delta Down All CCY 6M": "// Created for CMF ToH Report - Antoine Des Aulniers Favreau 24-Mai-2017\r\n//Added 6 Month Swap-13/12/2018\r\nif   \r\n\r\n        ([TERM_LABEL])= \"4 Month\" OR\r\n        ([TERM_LABEL])= \"4 Month Swap\" OR \r\n        ([TERM_LABEL])= \"5 Month\" OR\r\n        ([TERM_LABEL])= \"6 Month Swap\" OR \r\n        ([TERM_LABEL])= \"6 Month\" OR\r\n        ([TERM_LABEL])= \"6 Month Swap\" OR\r\n        \r\n     // Modified for meeting date on 3/16/2018 by ADF\r\n        ([Market Subtype]=\"Major Curve\" and [Risk Date # of Days]>91 and  [Risk Date # of Days]<=183) // Added July 25th 2017\r\n       \r\n\r\n       \r\n        then [Delta Down T USD]+ [Fix Value T]  else 0 end",
          "MAX_DATE -1day": "case datepart('weekday',[Max Date Exclude])\r\nwhen 1 then [Max Date Exclude]-2\r\nwhen 2 then [Max Date Exclude]-3\r\nelse [Max Date Exclude]-1\r\nend",
          "Market Name": "[MARKET_NAME]",
          "Risk Date # of Days": "[RISK_DATE]-[EFFECTIVE_DATE]",
          "Market Subtype": "// Created by Antoine Des Aulniers Favreau\r\n// Updated on 10/13/2017 by Antoine Des Aulniers Favreau\r\n// Current field is not being updated in RWH Market Dim. This is to make sure we do not have null values. This field replace some of the null values in RWH with the logical Market Subtype for each curve.\r\n// Originally intended for IR curves. Also applied to Inflation curves and Vol. surfaces.\r\n\r\nIF ISNULL([MARKET_SUBTYPE]) THEN \r\n    IF CONTAINS([Market Title], \"Major\") THEN \"Major Curve\"\r\n    ELSEIF CONTAINS([Market Title],\"CCIRS\") THEN \"CCIRS Basis\"\r\n    ELSEIF CONTAINS([Market Title],\"1m\") THEN \"1m Basis\"\r\n    ELSEIF CONTAINS([Market Title],\"3m\") THEN \"3m Basis\" \r\n    ELSEIF CONTAINS([Market Title],\"6m\") THEN \"6m Basis\"\r\n    ELSEIF CONTAINS([Market Title],\"12m\") THEN \"12m Basis\"\r\n    ELSEif CONTAINS([Market Title],\"Vol\") then mid([Market Title],5)\r\n    else [MARKET_TYPE]\r\n    END\r\nELSE [MARKET_SUBTYPE]\r\nEND",
          "Fix Value T": "zn([Sheet1 - Value])\r\n//if [Use Custom Date] then \r\n  //  (if [Max Date Exclude]= [Effective Date] then \r\n//        (if [Fix Date 1]=[Date (End Date)] then ([Fix Value 1]) else 0 end) +\r\n //       (if [Fix Date 2]=[Date (End Date)] then ([Fix Value 2]) else 0 end) +\r\n  //      (if [Fix Date 3]=[Date (End Date)] then ([Fix Value 3]) else 0 end) +\r\n   //     (if [Fix Date 4]=[Date (End Date)] then ([Fix Value 4]) else 0 end) +\r\n  //      (if [Fix Date 5]=[Date (End Date)] then ([Fix Value 5]) else 0 end) +\r\n  //      (if [Fix Date 6]=[Date (End Date)] then ([Fix Value 6]) else 0 end) +\r\n   //     (if [Fix Date 7]=[Date (End Date)] then ([Fix Value 7]) else 0 end) +\r\n   //     (if [Fix Date 8]=[Date (End Date)] then ([Fix Value 8]) else 0 end) +\r\n    //    (if [Fix Date 9]=[Date (End Date)] then ([Fix Value 9]) else 0 end) +\r\n   //     (if [Fix Date 10]=[Date (End Date)] then ([Fix Value 10]) else 0 end) +\r\n    //    (if [Fix Date 11]=[Date (End Date)] then ([Fix Value 11]) else 0 end) +\r\n    //    (if [Fix Date 12]=[Date (End Date)] then ([Fix Value 12]) else 0 end) +\r\n        //(if [Fix Date 13]=[Date (End Date)] then ([Fix Value 13]) else 0 end) +\r\n    //    (if [Fix Date 14]=[Date (End Date)] then ([Fix Value 14]) else 0 end) +\r\n    //    (if [Fix Date 15]=[Date (End Date)] then ([Fix Value 15]) else 0 end)\r\n\r\n  //  else 0 END)\r\n//else if [Effective Date]= [End Date] then \r\n    //    (if [Fix Date 1]=[Date (End Date)] then ([Fix Value 1]) else 0 end) +\r\n    //    (if [Fix Date 2]=[Date (End Date)] then ([Fix Value 2]) else 0 end) +\r\n    //    (if [Fix Date 3]=[Date (End Date)] then ([Fix Value 3]) else 0 end) +\r\n     //   (if [Fix Date 4]=[Date (End Date)] then ([Fix Value 4]) else 0 end) +\r\n       // (if [Fix Date 5]=[Date (End Date)] then ([Fix Value 5]) else 0 end) +\r\n       // (if [Fix Date 6]=[Date (End Date)] then ([Fix Value 6]) else 0 end) +\r\n      //  (if [Fix Date 7]=[Date (End Date)] then ([Fix Value 7]) else 0 end) +\r\n     //   (if [Fix Date 8]=[Date (End Date)] then ([Fix Value 8]) else 0 end) +\r\n    //    (if [Fix Date 9]=[Date (End Date)] then ([Fix Value 9]) else 0 end) +\r\n    //    (if [Fix Date 10]=[Date (End Date)] then ([Fix Value 10]) else 0 end) +\r\n      //  (if [Fix Date 11]=[Date (End Date)] then ([Fix Value 11]) else 0 end) +\r\n        //(if [Fix Date 12]=[Date (End Date)] then ([Fix Value 12]) else 0 end) +\r\n       // (if [Fix Date 13]=[Date (End Date)] then ([Fix Value 13]) else 0 end) +\r\n      //  (if [Fix Date 14]=[Date (End Date)] then ([Fix Value 14]) else 0 end) +\r\n       // (if [Fix Date 15]=[Date (End Date)] then ([Fix Value 15]) else 0 end)\r\n\r\n   // else 0 END END",
          "Delta Down T USD": "[Delta Down T]*[TO_USD]",
          "Date (End Date)": "if [Parameters].[Use Custom Date] then \r\n    [Max Date Exclude] else [Parameters].[End Date]\r\nend",
          "Sheet1 - Value": "INT(NULL)",
          "Delta Down T": "//if [Use Custom Date] then \r\n  //  (if [Max Date Exclude]= [Effective Date] then [Delta Down] else 0 END)\r\n//else if [Effective Date]= [End Date] then [Delta Down] else 0 END END\r\n\r\n\r\n[DELTA_DOWN]",
          "Market Title": "// Created by Antoine Des Aulniers Favreau\r\n// Updated on 10/13/2017 by Antoine Des Aulniers Favreau\r\n// Current field is not being updated in RWH Market Dim. This is to make sure we do not have null values. This field replace some of the null values in RWH with the logical Market Title RWH for each curve.\r\n// Originally intended for IR curves. Also applied to Inflation curves and Vol. surfaces.\r\n\r\nIF ISNULL([MARKET_TITLE]) THEN\r\n//Major Curve            \r\n    IF CONTAINS([MARKET_NAME],\"Mid\") THEN\r\n        IF LEFT([MARKET_NAME],1)=\"s\" AND LEN([MARKET_NAME])=7 THEN\r\n            CASE REPLACE(REPLACE([MARKET_NAME],\"Mid\",\"\"),\"s\",\"\")\r\n            WHEN \"USO\" THEN \"Major USD\"\r\n            WHEN \"CBO\" THEN \"Major CAD\"\r\n            WHEN \"EBO\" THEN \"Major EUR\"\r\n            WHEN \"GBO\" THEN \"Major GBP\"\r\n            ELSE \"Major \"+REPLACE(REPLACE([MARKET_NAME],\"Mid\",\"\"),\"s\",\"\")\r\n            END\r\n//CCIRS\r\n        ELSEIF CONTAINS([MARKET_NAME],\"USDs\") AND CONTAINS([MARKET_NAME],\"USDMid\") THEN\r\n            \"CCIRS \" + REPLACE(REPLACE([MARKET_NAME],\"USDs\",\"\"),\"USDMid\",\"\") + \" Basis\"\r\n\r\n///Exceptions\r\n        \r\n        //ELSEIF ([Market Name RWH]=\"CHFsCHF6mMid\") THEN \"6m CHF Basis\"\r\n        //ELSEIF ([Market Name RWH]=\"USDsUSD12mMid\") THEN \"12m USD Basis\"\r\n        //ELSEIF ([Market Name RWH]=\"sNZD1mMid\") THEN \"1m NZD Basis\"\r\n        ELSEIF ([MARKET_NAME]=\"USDsUSDCUPOMMid\") THEN \"3m USD CUPOM Basis\"\r\n        ELSEIF ([MARKET_NAME]=\"EURsEURLibor-6mMid\") THEN \"6m EUR Libor Basis\"\r\n\r\n// Vol Surface\r\n        ELSEif LEFT([MARKET_NAME],1)=\"f\" then\r\n            if CONTAINS([MARKET_NAME],\"swpnN\") then mid([MARKET_NAME],2,3) + \" Normal Swaption Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"swpn\") then mid([MARKET_NAME],2,3) + \" Swaption Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"SABRN\") then mid([MARKET_NAME],2,3) + \" Normal SABR Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"SABR\") then mid([MARKET_NAME],2,3) + \" SABR Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"cap\") and CONTAINS([MARKET_NAME],\"1mNMid\")  then mid([MARKET_NAME],2,3) + \" Normal 1M CAP Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"cap\") and CONTAINS([MARKET_NAME],\"NMid\")  then mid([MARKET_NAME],2,3) + \" Normal CAP Vol\"\r\n            elseif CONTAINS([MARKET_NAME],\"cap\") then mid([MARKET_NAME],2,3) + \" CAP Vol\"\r\n            else \"ERR\"\r\n            END\r\n\r\n//Minor 1m,3m,6m,12m   \r\n        ELSEIF CONTAINS([MARKET_NAME],\"1m\") and CONTAINS([MARKET_NAME],\"Mid\")then \"1m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSEIF CONTAINS([MARKET_NAME],\"3\") and CONTAINS([MARKET_NAME],\"Mid\") then \"3m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSEIF CONTAINS([MARKET_NAME],\"6\") and CONTAINS([MARKET_NAME],\"Mid\") then \"6m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSEIF CONTAINS([MARKET_NAME],\"12\") and CONTAINS([MARKET_NAME],\"Mid\") then \"12m \" + left([MARKET_NAME],3)+ \" Basis\"\r\n        ELSE [MARKET_NAME]\r\n\r\n        END\r\n\r\n//Other Vol surface\r\n    ELSEIF CONTAINS([MARKET_NAME],\"skew\") then mid([MARKET_NAME],2,3) + \" Swaption Skew Vol\"\r\n    ELSEIF CONTAINS([MARKET_NAME],\"IR \") THEN REPLACE([MARKET_NAME],\"IR \", \"Major \")\r\n    ELSE [MARKET_NAME]\r\n    END\r\nELSEIF CONTAINS([MARKET_TITLE],\"Eur\") THEN REPLACE([MARKET_TITLE],\"Eur\",\"EUR\")\r\nELSE [MARKET_TITLE]\r\nEND"
        },
        "parameters": [],
        "col_to_datatype_mapping": {
          "DELTA_DOWN": "real",
          "EFFECTIVE_DATE": "datetime",
          "MARKET_NAME": "string",
          "MARKET_SUBTYPE": "string",
          "MARKET_TITLE": "string",
          "MARKET_TYPE": "string",
          "RISK_DATE": "datetime",
          "TERM_LABEL": "string",
          "TO_USD": "real"
        },
        "calc_fields_to_datatype_mapping": {
          "Date Sign": "integer",
          "Delta Down All CCY Parallel": "real",
          "Delta Down All CCY 5Y": "real",
          "Delta Down All CCY 10Y": "real",
          "Delta Down All CCY 9M": "real",
          "Use Custom Date": "boolean",
          "End Date": "date",
          "Delta Down All CCY 30Y": "real",
          "Delta Down All CCY 1Y": "real",
          "Delta Down All CCY 3M": "real",
          "Delta Down All CCY 2Y": "real",
          "Start Date": "date",
          "Delta Down All CCY 6M": "real",
          "Risk Date # of Days": "real",
          "Fix Value T": "integer",
          "Delta Down T USD": "real",
          "Sheet1 - Value": "integer",
          "Delta Down T": "real",
          "Max Date Exclude": "DateTime",
          "MAX_DATE -1day": "DateTime",
          "Market Name": "String",
          "Market Subtype": "String",
          "Date (End Date)": "DateTime",
          "Market Title": "String"
        }
      }
    }
  ]
}