{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Risk Date # of Days",
      "dax_expression": "'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[RISK_DATE] - 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[EFFECTIVE_DATE]",
      "solution_explanation": "Recreates the Tableau calculated field [Risk Date # of Days] as a row-level subtraction of the two datetime columns (RISK_DATE - EFFECTIVE_DATE). In DAX, subtracting date/time columns returns the difference in days as a numeric value, matching Tableau behavior."
    },
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Bear Steepener Large Shock",
      "dax_expression": "VAR days = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days]\nRETURN\nIF(\n    days < 750,\n    5,\n    IF(\n        days > 10950,\n        10,\n        5 * (1 - (days - 750) / (10950 - 750)) + 10 * ((days - 750) / (10950 - 750))\n    )\n)",
      "solution_explanation": "Implements the Tableau piecewise IF logic as a row-level calculated column. Uses the dependent calculated column 'Risk Date # of Days' and applies the same thresholds and linear interpolation between 750 and 10950 days to produce the value."
    }
  ]
}