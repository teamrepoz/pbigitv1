{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Delta Down T USD 30Y",
      "dax_expression": "VAR market = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[MARKET_NAME]\nVAR term = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL]\nVAR deltaPlusFix = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Delta Down T USD] + 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Fix Value T]\nVAR sUSDMidCalc =\n    IF(term = \"12 Yr\" || term = \"12 Yr Swap\", 2/20 * deltaPlusFix, 0)\n    + IF(term = \"15 Yr\" || term = \"15 Yr Swap\", 5/20 * deltaPlusFix, 0)\n    + IF(term = \"20 Yr\" || term = \"20 Yr Swap\", 10/20 * deltaPlusFix, 0)\n    + IF(term = \"25 Yr\" || term = \"25 Yr Swap\", 15/20 * deltaPlusFix, 0)\n    + IF(term = \"30 Yr\" || term = \"30 Yr Swap\", deltaPlusFix, 0)\n    + IF(term = \"40 Yr\" || term = \"40 Yr Swap\", deltaPlusFix, 0)\nVAR usd1dCalc =\n    IF(\n        term = \"30 Yr\" || term = \"30 Yr Swap\" ||\n        term = \"40 Yr\" || term = \"40 Yr Swap\" ||\n        term = \"50 Yr\" || term = \"50 Yr Swap\",\n        deltaPlusFix,\n        0\n    )\n    + IF(term = \"25 Yr\" || term = \"25 Yr Swap\", 15/20 * deltaPlusFix, 0)\nVAR usdMajorCalc =\n    IF(term = \"11 Yr\" || term = \"11 Yr Swap\", 1/20 * deltaPlusFix, 0)\n    + IF(term = \"12 Yr\" || term = \"12 Yr Swap\", 2/20 * deltaPlusFix, 0)\n    + IF(term = \"15 Yr\" || term = \"15 Yr Swap\", 5/20 * deltaPlusFix, 0)\n    + IF(term = \"20 Yr\" || term = \"20 Yr Swap\", 10/20 * deltaPlusFix, 0)\n    + IF(term = \"25 Yr\" || term = \"25 Yr Swap\", 15/20 * deltaPlusFix, 0)\n    + IF(term = \"30 Yr\" || term = \"30 Yr Swap\", deltaPlusFix, 0)\n    + IF(term = \"40 Yr\" || term = \"40 Yr Swap\", deltaPlusFix, 0)\n    + IF(term = \"50 Yr\" || term = \"50 Yr Swap\", deltaPlusFix, 0)\nRETURN\nSWITCH(\n    market,\n    \"sUSDMid\", sUSDMidCalc,\n    \"USDsUSD1mMid\", IF(term = \"30 Yr Swap\", deltaPlusFix, 0),\n    \"USDsUSD6mMid\", IF(term = \"30 Yr\" || term = \"30 Yr Swap\", deltaPlusFix, 0),\n    \"USDsUSD1dMid\", usd1dCalc,\n    \"USDsUSDs1dMid\", usdMajorCalc,\n    0\n)",
      "solution_explanation": "Converted the Tableau CASE expression into a DAX SWITCH on MARKET_NAME with IF expressions for TERM_LABEL branches. Used VARs (market, term, deltaPlusFix and intermediate branch calculations) for readability and to replicate the summed IF logic. All column references were mapped to 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[ColumnName]. Determined this as a calculated column because the formula uses only row-level fields and no aggregations, LODs, table calculations, or parameters."
    }
  ]
}