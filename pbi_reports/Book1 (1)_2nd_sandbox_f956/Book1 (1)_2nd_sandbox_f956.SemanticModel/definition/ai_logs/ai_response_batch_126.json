{
  "fixes": [
    {
      "type": "calculated_column",
      "table": "Risk_GFIRates_Reports_Excel_Rolling (local copy)",
      "name": "Delta Down T CAD 2Y",
      "dax_expression": "VAR Base = 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Delta Down T CAD] + 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Fix Value T]\nRETURN\nSWITCH(\n    'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[MARKET_NAME],\n    \"sCADMid\",\n        IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr Swap\"),\n            Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr Swap\"),\n            2/3 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr Swap\"),\n            1/3 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"15 Month\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"15 Month Swap\"),\n            1/4 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"18 Month\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"18 Month Swap\"),\n            2/4 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"21 Month\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"21 Month Swap\"),\n            3/4 * Base,\n            0\n        ),\n    \"CADsCAD1mMid\",\n        IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr Swap\"),\n            Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr Swap\"),\n            2/3 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr Swap\"),\n            1/3 * Base,\n            0\n        )\n        + IF(\n            'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"15 Month\",\n            1/4 * Base,\n            0\n        ),\n    \"CADsCAD6mMid\",\n        IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr Swap\"),\n            Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr Swap\"),\n            2/3 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr Swap\"),\n            1/3 * Base,\n            0\n        ),\n    \"CADsCAD1dMid\",\n        IF(\n            (\n                'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr\"\n                || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr Swap\"\n                || (\n                    'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Market Subtype] = \"Major Curve\"\n                    && 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days] > 365\n                    && 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[Risk Date # of Days] <= 731\n                )\n            ),\n            Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr Swap\"),\n            2/3 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr Swap\"),\n            1/3 * Base,\n            0\n        ),\n    \"USDsCADUSDMid\",\n        IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"2 Yr Swap\"),\n            Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"3 Yr Swap\"),\n            2/3 * Base,\n            0\n        )\n        + IF(\n            ('Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr\" || 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"4 Yr Swap\"),\n            1/3 * Base,\n            0\n        )\n        + IF(\n            'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"15 Month\",\n            1/4 * Base,\n            0\n        )\n        + IF(\n            'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"18 Month\",\n            2/4 * Base,\n            0\n        )\n        + IF(\n            'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[TERM_LABEL] = \"21 Month\",\n            3/4 * Base,\n            0\n        ),\n    0\n)",
      "solution_explanation": "Converted the Tableau CASE/WHEN and nested IFs into a DAX SWITCH over 'Risk_GFIRates_Reports_Excel_Rolling (local copy)'[MARKET_NAME]. All column references were transformed to the 'TableName'[Column] format. A VAR (Base) was used to represent ([Delta Down T CAD] + [Fix Value T]) and reused across branches. Logical OR/AND were mapped to || and && and string literals preserved with double quotes. Returned 0 as the default branch to match the Tableau ELSE 0 behavior."
    }
  ]
}